<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Database of Allometric Equations for ForestGEO • allodb</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">allodb</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">
    <span class="fa fa-database"></span>
     
    Datasets
  </a>
</li>
<li>
  <a href="https://bookdown.org/forestgeoguest/allodb_app/">
    <span class="fa fa-play-circle"></span>
     
    App
  </a>
</li>
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-user"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/orgs/forestgeo/people/ervanSTRI">Ervan Rutishauser</a>
    </li>
    <li>
      <a href="https://github.com/orgs/forestgeo/people/teixeirak">Kristina Anderson-Teixeira</a>
    </li>
    <li>
      <a href="https://github.com/orgs/forestgeo/people/gonzalezeb">Erika Gonzalez-Akre</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-gavel"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/maurolepore">Mauro Lepore</a>
    </li>
    <li>
      <a href="https://github.com/orgs/forestgeo/people/gabrielareto">Gabriel Arellano</a>
    </li>
    <li>
      <a href="https://github.com/orgs/forestgeo/people/seanmcm">Sean McMahon</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/forestgeo/allodb">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="allodb-a-database-of-allometric-equations-for-forestgeo" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#allodb-a-database-of-allometric-equations-for-forestgeo" class="anchor"></a>allodb: A database of allometric equations for ForestGEO</h1></div>
<p>The goal of allodb is to develop, host and give access to tables of allometric equations for ForestGEO’s network.</p>
<div id="source" class="section level2">
<h2 class="hasAnchor">
<a href="#source" class="anchor"></a>Source</h2>
<p>On Sat, Oct 28, 2017 at 4:05 AM, Ervan Rutishauser <a href="mailto:er.rutishauser@gmail.com">er.rutishauser@gmail.com</a> wrote:</p>
<blockquote>
<p>For now, you can use the R functions that I have developed to compute biomass at all tropical CTFS sites. It is based on Chave et al 2014 allometric models and some modified functions of the BIOMASS package. It computes biomass after having allocated wood density. The wood density database arise from CTFS and, I guess, isn’t aimed to be shared publicly.</p>
</blockquote>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>Make data manipulation and visualization easier</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="co">#&gt; -- Attaching packages ------------------------------------------- tidyverse 1.2.1 --</span>
<span class="co">#&gt; v ggplot2 2.2.1     v purrr   0.2.4</span>
<span class="co">#&gt; v tibble  1.3.4     v dplyr   0.7.4</span>
<span class="co">#&gt; v tidyr   0.7.2     v stringr 1.2.0</span>
<span class="co">#&gt; v readr   1.1.1     v forcats 0.2.0</span>
<span class="co">#&gt; -- Conflicts ---------------------------------------------- tidyverse_conflicts() --</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span>
<span class="co"># Print only few rows of dataframes to save space and time</span>
<span class="kw">options</span>(<span class="dt">dplyr.print_min =</span> <span class="dv">3</span>, <span class="dt">dplyr.print_max =</span> <span class="dv">3</span>)</code></pre></div>
<p>Load data objects and functions in <strong>allodb</strong> (from Ervan)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(allodb)</code></pre></div>
<div class="figure">
<img src="https://i.imgur.com/O9rt33U.png">
</div>
</div>
<div id="explore-data" class="section level2">
<h2 class="hasAnchor">
<a href="#explore-data" class="anchor"></a>Explore data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(ficus)
<span class="co">#&gt; Observations: 67</span>
<span class="co">#&gt; Variables: 8</span>
<span class="co">#&gt; $ Mnemonic   &lt;fctr&gt; FICUAB, FICUAL, Ficuamaz, FICUAN, ficutr, FICUBJ, ...</span>
<span class="co">#&gt; $ Genus      &lt;fctr&gt; Ficus, Ficus, Ficus, Ficus, Ficus, Ficus, Ficus, F...</span>
<span class="co">#&gt; $ Species    &lt;fctr&gt; albipila, altissima, amazonica, annulata, aurea, b...</span>
<span class="co">#&gt; $ Subgenus   &lt;fctr&gt; Pharmacosycea, Urostigma, Urostigma, Urostigma, Ur...</span>
<span class="co">#&gt; $ Section    &lt;fctr&gt; Oreosycea, Urostigma, Americana, Urostigma, Americ...</span>
<span class="co">#&gt; $ Subsection &lt;fctr&gt; Pedunculatae, Conosycea, , Conosycea, , Conosycea,...</span>
<span class="co">#&gt; $ Strangler  &lt;fctr&gt; No, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Ye...</span>
<span class="co">#&gt; $ name       &lt;chr&gt; "Ficus albipila", "Ficus altissima", "Ficus amazoni...</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(site.info)
<span class="co">#&gt; Observations: 63</span>
<span class="co">#&gt; Variables: 12</span>
<span class="co">#&gt; $ id            &lt;dbl&gt; 42.0, 51.0, 52.0, 45.0, 18.0, 53.0, 46.0, 14.0, ...</span>
<span class="co">#&gt; $ Site          &lt;fctr&gt; Amacayacu, Badagongshan, Baotianman, Barro Colo...</span>
<span class="co">#&gt; $ site          &lt;fctr&gt; amacayacu, badagongshan, baotianman, barro colo...</span>
<span class="co">#&gt; $ lat           &lt;dbl&gt; -3.81, 29.46, 33.50, 9.15, 1.35, 42.38, 8.99, 5....</span>
<span class="co">#&gt; $ long          &lt;dbl&gt; -70.3, 110.5, 111.9, -79.8, 103.8, 128.1, -79.6,...</span>
<span class="co">#&gt; $ UTM_Zone      &lt;int&gt; 19, 49, 49, 17, 48, 52, 17, 50, 49, 47, 50, 51, ...</span>
<span class="co">#&gt; $ UTM_X         &lt;fctr&gt; 359223.7022, 453456.2453, 587323.8348, 626783.7...</span>
<span class="co">#&gt; $ UTM_Y         &lt;fctr&gt; 9578870.297, 3259047.312, 3706005.813, 1012114....</span>
<span class="co">#&gt; $ intertropical &lt;fctr&gt; Tropical, Other, Other, Tropical, Tropical, Oth...</span>
<span class="co">#&gt; $ size.ha       &lt;dbl&gt; 25.0, 25.0, 25.0, 50.0, 4.0, 25.0, 4.0, 50.0, 20...</span>
<span class="co">#&gt; $ E             &lt;dbl&gt; -0.07929, 1.01162, 1.19960, 0.04945, -0.08480, 1...</span>
<span class="co">#&gt; $ wsg.site.name &lt;fctr&gt; amacayacu, , , bci, bukittimah, changbai, , , ,...</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(WSG)
<span class="co">#&gt; Observations: 16,558</span>
<span class="co">#&gt; Variables: 9</span>
<span class="co">#&gt; $ wsg     &lt;dbl&gt; 0.567, 0.585, 0.450, 0.300, 0.657, 0.657, 0.818, 0.819...</span>
<span class="co">#&gt; $ idlevel &lt;chr&gt; "genus", "species", "genus", "genus", "genus", "genus"...</span>
<span class="co">#&gt; $ site    &lt;chr&gt; "amacayacu", "amacayacu", "amacayacu", "amacayacu", "a...</span>
<span class="co">#&gt; $ sp      &lt;chr&gt; "abarbarb", "abarjupu", "abutgran", "acalcune", "aegic...</span>
<span class="co">#&gt; $ genus   &lt;chr&gt; "Abarema", "Abarema", "Abuta", "Acalypha", "Aegiphila"...</span>
<span class="co">#&gt; $ species &lt;chr&gt; "barbouriana", "jupunba", "grandifolia", "cuneata", "c...</span>
<span class="co">#&gt; $ genwood &lt;dbl&gt; 0.567, 0.567, 0.450, 0.300, 0.657, 0.657, 0.819, 0.819...</span>
<span class="co">#&gt; $ famwood &lt;dbl&gt; 0.678, 0.678, 0.545, 0.509, 0.539, 0.539, 0.742, 0.742...</span>
<span class="co">#&gt; $ spwood  &lt;dbl&gt; NA, 0.585, NA, NA, NA, NA, 0.818, NA, 0.427, NA, NA, N...</span></code></pre></div>
<p>I’m particularly interested in these data. Can we add a variable <code>equation</code> – relating dbh with biomass based on <code>wsg</code> and <code>E</code>?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">left_join</span>(site.info, WSG) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(site, genus, species, wsg, E)
<span class="co">#&gt; Joining, by = "site"</span>
<span class="co">#&gt; Warning: Column `site` joining factor and character vector, coercing into</span>
<span class="co">#&gt; character vector</span>
<span class="co">#&gt; # A tibble: 8,600 x 5</span>
<span class="co">#&gt;        site   genus     species   wsg       E</span>
<span class="co">#&gt;       &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt; 1 amacayacu Abarema barbouriana 0.567 -0.0793</span>
<span class="co">#&gt; 2 amacayacu Abarema     jupunba 0.585 -0.0793</span>
<span class="co">#&gt; 3 amacayacu   Abuta grandifolia 0.450 -0.0793</span>
<span class="co">#&gt; # ... with 8,597 more rows</span></code></pre></div>
</div>
<div id="explore-code" class="section level2">
<h2 class="hasAnchor">
<a href="#explore-code" class="anchor"></a>Explore code</h2>
<p>Ervan, could you show some examples of how your funcitons work?</p>
<p>Go to <a href="https://forestgeo.github.io/allodb/reference/index.html">function’s help files</a></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install allodb from github with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># To install from a private repo, use auth_token # with a token from</span>
<span class="co"># https://github.com/settings/tokens. You only need the repo # scope.</span>

<span class="co"># install.packages("devtools")</span>

<span class="co"># Install the master branch</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"forestgeo/allodb"</span>, <span class="dt">auth_token =</span> <span class="st">"abc"</span>)

<span class="co"># Install an ISSUE-specific branch with</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"forestgeo/allodb@ISSUE"</span>, <span class="dt">auth_token =</span> <span class="st">"abc"</span>)

<span class="co"># Then, load each time before using</span>
<span class="kw">library</span>(allodb)</code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/forestgeo/allodb">https://​github.com/​forestgeo/​allodb</a>
</li>
<li>Report a bug at <br><a href="https://github.com/forestgeo/allodb/issues">https://​github.com/​forestgeo/​allodb/​issues</a>
</li>
<li>Learn more at <br><a href="http://www.forestgeo.si.edu/">http://​www.forestgeo.si.edu/​</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Gonzalez Erika <br><small class="roles"> Author </small> </li>
<li>Kristina Teixeira <br><small class="roles"> Author </small> </li>
<li>Mauro Lepore <br><small class="roles"> Author, contractor, maintainer </small> </li>
<li>Rutishauser Ervan <br><small class="roles"> Author </small> </li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Gonzalez Erika, Kristina Teixeira, Mauro Lepore, Rutishauser Ervan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
