<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>NA • allodb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="NA" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">allodb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Functions and Datasets</a>
</li>
<li>
  <a href="index.html#example">Examples</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/forestgeo/allodb/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>NA</h1>
    </div>


<p>I believe you would like ideas about how to optimize some functions. Please let me konw which functions you mean and share with me a reproducible example (with the package <a href="https://reprex.tidyverse.org/" class="uri">https://reprex.tidyverse.org/</a>) showing me how to use the function I need to inspect. Here I write what I see as I review the structure of the package. For a more complete set of recomendations see <a href="https://devguide.ropensci.org/guide-for-authors.html" class="uri">https://devguide.ropensci.org/guide-for-authors.html</a> and <a href="http://r-pkgs.had.co.nz/" class="uri">http://r-pkgs.had.co.nz/</a>.</p>
<div id="load-in-development-mode" class="section level3">
<h3 class="hasAnchor">
<a href="#load-in-development-mode" class="anchor"></a>Load in development mode</h3>
<p>The package failed to load. The <code>persons()</code> had syntax errors. I fixed it.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/load_all.html">load_all</a></span>()
<span class="co">#&gt; Loading allodb</span>
<span class="co">#&gt; Invalid DESCRIPTION:</span>
<span class="co">#&gt; Malformed Authors@R field:</span>
<span class="co">#&gt;   &lt;text&gt;:18:0: unexpected end of input</span>
<span class="co">#&gt; 16:              role = "aut",</span>
<span class="co">#&gt; 17:              email = "TeixeiraK@si.edu"))</span>
<span class="co">#&gt;    ^</span>
</pre></div>
</div>
<div id="install-from-github" class="section level3">
<h3 class="hasAnchor">
<a href="#install-from-github" class="anchor"></a>Install from GitHub</h3>
<p>The package installs but throws a WARNING. Maybe google the warning to see what it means and how to adress its ultimate cause. For now I just do what the warning says, i.e. add R (&gt;= 3.5.0) under the field <code>Depends:</code> of DESCRIPTION.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">remotes</span>::<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"maurolepore/allodb@review"</span>)
<span class="co">#&gt; Using github PAT from envvar GITHUB_PAT</span>
<span class="co">#&gt; Downloading GitHub repo maurolepore/allodb@review</span>
<span class="co">#&gt; </span>

<span class="kw">...</span>

<span class="co">#&gt;   -  checking for empty or unneeded directories</span>
<span class="co">#&gt;        NB: this package now depends on R (&gt;= 3.5.0)</span>
<span class="co">#&gt;        WARNING: Added dependency on R &gt;= 3.5.0 because serialized objects in  serialize/load version 3 cannot be read in older versions of R.  File(s) containing such objects: ‘allodb/data/genus_family.rda’  ‘allodb/data/gymno_genus.rda’</span>rda’

<span class="kw">...</span>  

<span class="co">#&gt; Installing package into '/home/mauro/R/x86_64-pc-linux-gnu-library/4.0'</span>
<span class="co">#&gt; (as 'lib' is unspecified)</span>
<span class="co">#&gt; Adding 'allodb_1.0_R_x86_64-pc-linux-gnu.tar.gz' to the cache</span>
</pre></div>
</div>
<div id="tidy-description" class="section level3">
<h3 class="hasAnchor">
<a href="#tidy-description" class="anchor"></a>Tidy DESCRIPTION</h3>
<ul>
<li><p>Use developmen version. The version number 1.0 suggests the package is released. To more clearly reflect it’s in development (at least not released on CRAN), I incremented the version to 1.0.0.9000, as the the suffix .9*** by convension indicatse “in development” (<code><a href="https://usethis.r-lib.org/reference/use_version.html">usethis::use_dev_version()</a></code>).</p></li>
<li><p>Tidy DESCRIPTION. (see <code>?usethis::use_tidy_description()</code>).</p></li>
</ul>
</div>
<div id="update-documentation-devtoolsdocument" class="section level3">
<h3 class="hasAnchor">
<a href="#update-documentation-devtoolsdocument" class="anchor"></a>Update documentation (<code>devtools::document()</code>)</h3>
<ul>
<li>I updated the documentation with <code><a href="https://devtools.r-lib.org//reference/document.html">devtools::document()</a></code>.</li>
</ul>
</div>
<div id="r-cmd-check-devtoolscheck" class="section level3">
<h3 class="hasAnchor">
<a href="#r-cmd-check-devtoolscheck" class="anchor"></a>R CMD check (<code>devtools::check()</code>)</h3>
<ul>
<li>R CMD check returns 2 errors, 5 warnings, and 5 notes:</li>
</ul>
<p>WARNINGS</p>
<ul>
<li>You can avoid this warning by avoiding spaces in paths, e.g. use “a-folder/a-file.txt” not “a folder/a file.txt”. I leave this to you.</li>
</ul>
<pre><code>W  checking for portable file names ...
   Found the following files with non-portable file names:
     tests/evaluation_of_equations/1-About validation data.txt
     tests/evaluation_of_equations/...
     ...
     koppen climates
     tests/graphs/harvard forest
     tests/graphs/...
     ...
   These are not fully portable file names.</code></pre>
<ul>
<li>I think you can ignore this.</li>
</ul>
<pre><code>N  checking for future file timestamps (2.1s)
   unable to verify current time</code></pre>
<ul>
<li>The title field should use “Title Case” and not end in a period. I fixed it.</li>
</ul>
<pre><code>N  checking DESCRIPTION meta-information ...
   Malformed Title field: should not end in a period.</code></pre>
<ul>
<li>These directories are not standard in an R package. Add them to .Rbuildignore (see <code>?usethis::use_build_ignore()</code>). I fixed it.</li>
</ul>
<pre><code>N  checking top-level files ...
   Non-standard files/directories found at top level:
     ‘_config.yml’ ‘koppen climates’ ‘phyloDist’</code></pre>
<ul>
<li>It seems that the package ‘raster’ is used in <code>koppenObs = climates[raster::extract(koppenRaster, coordsSite)]</code> but it wasn’t listed under the field <code>Imorts:</code> of the file DESCRIPTION. Add it with <code><a href="https://usethis.r-lib.org/reference/use_package.html">usethis::use_package("raster")</a></code>. I fixed it.</li>
</ul>
<pre><code>W  checking dependencies in R code (450ms)
   '::' or ':::' import not declared from: ‘raster’</code></pre>
<ul>
<li>Fix this and similar problems with <code>#' @importFrom utils data</code> (see R/imports.R). I added one case as an example, but I leave this to you.</li>
</ul>
<pre><code>N  checking R code for possible problems (1.8s)
   add_equation: no visible global function definition for ‘data’</code></pre>
<ul>
<li><p>Define global variables in as <code><a href="https://rdrr.io/r/utils/globalVariables.html">globalVariables(c("equation_id", "obs_id"))</a></code>. If used in tidyverse functions you may instead refer to them using the pronoun <code>.data</code>, e.g. <code>.data$equation_id</code> or <code>.data$obs_id</code>. I leave this to you.</p></li>
<li><p>Define global functions using the syntax <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code> instead of just <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> or use something like <code>#' @importFrom dplyr filter</code> (see R/imports.R). I leave this to you.</p></li>
</ul>
<pre><code>   Undefined global functions or variables:
     RoundCoordinates data dependent_variable equation_id equations
     gymno_genus independent_variable koppenMatrix koppenRaster obs_id
     ref_id shrub_species</code></pre>
<ul>
<li>See section ‘Good practice’ in ‘?data’. I leave this fix to you.</li>
</ul>
<blockquote>
<p>It would almost always be better to put the object in the current evaluation environment by data(…, envir = environment()). However, two alternatives are usually preferable …</p>
</blockquote>
<pre><code>   Found the following calls to data() loading into the global environment:
   File ‘allodb/R/add_equations.R’:
     data("equations")
     ...
   See section ‘Good practice’ in ‘?data’.</code></pre>
<ul>
<li>All user-level objects in a package should have documentation entries. Document datasets in R/data.R. For example I added a template for “genus_family”. I leave the rest to you.</li>
</ul>
<pre><code>W  checking for missing documentation entries ...
   Undocumented data sets:
     ‘genus_family’ ‘gymno_genus’ ‘koppenMatrix’ ‘koppenRaster’
     ‘references’ ‘scbi_stem1’ ‘shrub_species’
   All user-level objects in a package should have documentation entries.</code></pre>
<ul>
<li>The example of <code><a href="reference/add_equation.html">add_equation()</a></code> throws an error. I leave this to you.</li>
</ul>
<pre><code>E  checking examples (453ms)
   Running examples in ‘allodb-Ex.R’ failed
...
   &gt; ### Name: add_equation
...
   &gt; ### ** Examples
   &gt; 
   &gt; new_equations = add_equation(taxa = "Faga", level = "genus",
   + allometry = "exp(-2+log(dbh)*2.5)", coords = c(-0.07, 46.11),
   + minDBH = 5, maxDBH = 50, sampleSize = 50)
   Error in add_equation(taxa = "Faga", level = "genus", allometry = "exp(-2+log(dbh)*2.5)",  : 
     unitDBH must be either `Species`, `Genus`, `Family`, or `Woody species`, `Mixed conifers`.
   Execution halted</code></pre>
<ul>
<li>Check spelling with <code><a href="https://docs.ropensci.org/spelling/reference/spell_check_package.html">spelling::spell_check_package()</a></code>, then update “inst/WORDSLIST” with <code><a href="https://docs.ropensci.org/spelling/reference/wordlist.html">spelling::update_wordlist()</a></code>. I leave this to you.</li>
</ul>
<pre><code>X  Comparing ‘spelling.Rout’ to ‘spelling.Rout.save’ ...
   &lt; Potential spelling errors:
   &lt;   WORD            FOUND IN
   &lt; Bohn            get_biomass.Rd:64
   &lt; DBH             add_equation.Rd:30,32,36
...</code></pre>
<ul>
<li>Many tests fail. I leave this to you.</li>
</ul>
<pre><code>E  Running ‘testthat.R’ (1.1s)
...

══ testthat results  ════════════════════════════════════════
Warning: Exported datasets match known output (test-data.R:15:3)
Failure: Exported datasets match known output (test-data.R:15:3)
Warning: Exported datasets match known output (test-data.R:19:3)
Failure: Exported datasets match known output (test-data.R:19:3)
Warning: Exported datasets match known output (test-data.R:34:3)
Error: Exported datasets match known output (test-data.R:35:3)
Error: master_tidy() returns correct column types (test-master.R:4:3)
Error: master() sites match `sites_info$site` (#79),
  except 'any*' (fgeo.biomass#31) (test-master.R:15:3)
Error: master outputs lowercase values of site (#79) (test-master.R:27:3)
Error: master doesn't duplicate names (test-master.R:32:3)
Error: master outputs the expected object (allodb#78) (test-master.R:40:3)
Failure: `equations` and `sitespecies` have no redundant columns (#78) (test-master.R:45:3)
Error: master outputs no missing `equation_id` (test-master.R:52:3)
Error: master returns known output (test-master.R:56:3)
Error: master_tidy returns no missing values in `dbh_*_cm` (test-master.R:66:3)
Error: master_tidy returns in `dbh_min_cm` some 0 (test-master.R:71:3)
Error: master_tidy returns in `dbh_max_cm` some Inf (test-master.R:75:3)
Error: (code run outside of `test_that()`) (test-type_allodb_master.R:3:1)

[ PASS x2 FAIL x15 WARN x3 SKIP x0 ]</code></pre>
</div>
<div id="readme" class="section level3">
<h3 class="hasAnchor">
<a href="#readme" class="anchor"></a>README</h3>
<ul>
<li>The code is commented out. It’ll be hard to see when some change breaks the examples shown here.</li>
</ul>
<pre><code># README.Rmd
```R
library(allodb)

data(scbi_stem1)
scbi_stem1$agb =
get_biomass(
dbh = scbi_stem1$dbh,
genus = scbi_stem1$genus,
species = scbi_stem1$species,
coords = c(-78.2, 38.9)
)
```</code></pre>
</div>
<div id="style" class="section level3">
<h3 class="hasAnchor">
<a href="#style" class="anchor"></a>Style</h3>
<ul>
<li>The most popular style gude is <a href="https://style.tidyverse.org/" class="uri">https://style.tidyverse.org/</a>. You can implement it with <code><a href="https://usethis.r-lib.org/reference/tidyverse.html">usethis::use_tidy_style()</a></code>. I leave this to you.</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="co"># Before (README.Rmd)</span>

<span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">agb</span> <span class="op">=</span>
<span class="fu"><a href="reference/get_biomass.html">get_biomass</a></span>(
dbh = <span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">dbh</span>,
genus = <span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">genus</span>,
species = <span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">species</span>,
coords = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">78.2</span>, <span class="fl">38.9</span>)
)



<span class="co"># After (README.Rmd)</span>

<span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">agb</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="reference/get_biomass.html">get_biomass</a></span>(
    dbh = <span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">dbh</span>,
    genus = <span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">genus</span>,
    species = <span class="kw">scbi_stem1</span><span class="op">$</span><span class="kw">species</span>,
    coords = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">78.2</span>, <span class="fl">38.9</span>)
  )
</pre></div>
</div>
<div id="website" class="section level3">
<h3 class="hasAnchor">
<a href="#website" class="anchor"></a>Website</h3>
<ul>
<li>
<code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code> didn’t work because the file _pkgdown.yaml was corrupt. I removed all content from _pkgdown.yaml and produced the default site. You can see it by opening docs/index.html on your web browser. To set it up you’ll need to change the settings on GitHub &gt; Settings &gt; GitHub pages.</li>
</ul>
</div>
<div id="continuous-integration" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration" class="anchor"></a>Continuous integration</h2>
<p>This package is configured to use the continuous integration service Travis CI (see <a href="https://travis-ci.org/github/forestgeo/allodb" class="uri">https://travis-ci.org/github/forestgeo/allodb</a>). I updated the configuration file .travis.yml to reflect we not depend on R &gt;= 3.5.0 – testing earlier versions is unecessary. But if we go back to supporting earlier versions of R, then add them in .travis.yml.</p>
<p>The R community is moving to a different continuous-integration service: GitHub Actions. See <code>?usethis::use_github_action_check_full()</code>.</p>
<div id="goodpracticegoodpractice" class="section level3">
<h3 class="hasAnchor">
<a href="#goodpracticegoodpractice" class="anchor"></a><code>goodpractice::goodpractice()</code>
</h3>
<ul>
<li>To follow up this review, you may run <code>goodpractice::goodpractice()</code>, and continue working and running <code>goodpractice::goodpractice()</code> until you are left with no more suggestions for improvement.</li>
</ul>
<pre><code>goodpractice::goodpractice()
Preparing: cyclocomp
✓  checking for file ‘/tmp/RtmpAkfScI/remotes4a72e642d10/allodb/DESCRIPTION’ ...
─  preparing ‘allodb’:
✓  checking DESCRIPTION meta-information ...
─  checking for LF line-endings in source and make files and shell scripts
─  checking for empty or unneeded directories
─  building ‘allodb_1.0.0.9000.tar.gz’
   
* installing *source* package ‘allodb’ ...
** using staged installation
** R
** data
*** moving datasets to lazyload DB
** inst
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded from temporary location
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (allodb)
Adding ‘raster_3.3-13.tar.gz’ to the cache
Adding ‘allodb_1.0.0.9000_R_x86_64-pc-linux-gnu.tar.gz’ to the cache
Preparing: description
Preparing: lintr
Preparing: namespace
Preparing: rcmdcheck
── GP allodb ─────────────────────────────────────────────────────────────────

It is good practice to

  ✖ use '&lt;-' for assignment instead of '='. '&lt;-' is the
    standard, and R users and developers are used it and it is easier
    to read your code for them if you use '&lt;-'.

    R/add_equations.R:26:14
    R/add_equations.R:64:12
    R/add_equations.R:77:13
    R/add_equations.R:85:14
    R/add_equations.R:86:15
    ... and 250 more lines

  ✖ avoid long code lines, it is bad for readability. Also,
    many people prefer editor windows that are about 80 characters
    wide. Try make your lines shorter than 80 characters

    R/add_equations.R:1:1
    R/add_equations.R:5:1
    R/add_equations.R:6:1
    R/add_equations.R:8:1
    R/add_equations.R:9:1
    ... and 92 more lines

  ✖ avoid sapply(), it is not type safe. It might return a
    vector, or a list, depending on the input data. Consider using
    vapply() instead.

    R/choose_equations.R:34:12
    R/choose_equations.R:35:11
    R/choose_equations.R:41:12
    R/choose_equations.R:42:11
    R/choose_equations.R:48:12
    ... and 2 more lines

  ✖ avoid 1:length(...), 1:nrow(...), 1:ncol(...),
    1:NROW(...) and 1:NCOL(...) expressions. They are error prone and
    result 1:0 if the expression on the right hand side is zero. Use
    seq_len() or seq_along() instead.

    R/add_equations.R:85:30
    R/get_biomass.R:137:13
    R/get_biomass.R:203:39
    R/get_biomass.R:206:43
    tests/evaluation_of_equations/check_equations.R:33:11
    ... and 6 more lines

  ✖ fix this R CMD check WARNING: Found the following files
    with non-portable file names:
    tests/evaluation_of_equations/1-About validation data.txt
    tests/evaluation_of_equations/1-Validation data.xlsx
    tests/evaluation_of_equations/2-Validation data.csv
    tests/evaluation_of_equations/Quercus rubra.png
    tests/evaluation_of_equations/Quercus velutina.png
    tests/evaluation_of_equations/Tilia americana.png
    tests/graphs/harvard forest tests/graphs/indian cave
    tests/graphs/lilly dickey tests/graphs/michigan big woods
    tests/graphs/scotty creek tests/graphs/wind river
    tests/graphs/wytham woods These are not fully portable file
    names. See section ‘Package structure’ in the ‘Writing R
    Extensions’ manual.
  ✖ fix this R CMD check WARNING: 'library' or 'require'
    calls not declared from: ‘BIOMASS’ ‘ggplot2’ ‘ggpubr’ ‘plotly’
  ✖ fix this R CMD check NOTE: add_equation: no visible
    global function definition for ‘RoundCoordinates’ add_equation:
    no visible binding for global variable ‘equations’
    choose_equations: no visible binding for global variable
    ‘equations’ get_biomass: no visible binding for global variable
    ‘equations’ get_biomass: no visible binding for global variable
    ‘ref_id’ get_biomass: no visible binding for global variable
    ‘dependent_variable’ get_biomass: no visible binding for global
    variable ‘equation_id’ get_biomass: no visible binding for global
    variable ‘independent_variable’ get_biomass: no visible binding
    for global variable ‘koppenRaster’ weight_allom : compare_koppen:
    no visible binding for global variable ‘koppenMatrix’
    weight_allom: no visible binding for global variable
    ‘gymno_genus’ weight_allom: no visible binding for global
    variable ‘shrub_species’ weight_allom: no visible binding for
    global variable ‘obs_id’ weight_allom: no visible binding for
    global variable ‘equation_id’ Undefined global functions or
    variables: RoundCoordinates dependent_variable equation_id
    equations gymno_genus independent_variable koppenMatrix
    koppenRaster obs_id ref_id shrub_species
  ✖ fix this R CMD check NOTE: prepare_Rd:
    choose_equations.Rd:37-39: Dropping empty section \examples
    prepare_Rd: equations.Rd:56-58: Dropping empty section \details
  ✖ fix this R CMD check WARNING: Undocumented code
    objects: ‘gymno_genus’ ‘koppenMatrix’ ‘koppenRaster’ ‘references’
    ‘scbi_stem1’ ‘shrub_species’ Undocumented data sets:
    ‘gymno_genus’ ‘koppenMatrix’ ‘koppenRaster’ ‘references’
    ‘scbi_stem1’ ‘shrub_species’ All user-level objects in a package
    should have documentation entries. See chapter ‘Writing R
    documentation files’ in the ‘Writing R Extensions’ manual.
  ✖ fix this R CMD check NOTE: Note: found 155 marked UTF-8
    strings
  ✖ fix this R CMD check ERROR: Running examples in
    ‘allodb-Ex.R’ failed The error most likely occurred in: &gt; ###
    Name: add_equation &gt; ### Title: Function to add new equations to
    the equation table (then used &gt; ### in the get_biomass function)
    &gt; ### Aliases: add_equation &gt; &gt; ### ** Examples &gt; &gt; new_equations
    = add_equation(taxa = "Faga", level = "genus", + allometry =
    "exp(-2+log(dbh)*2.5)", coords = c(-0.07, 46.11), + minDBH = 5,
    maxDBH = 50, sampleSize = 50) Error in add_equation(taxa =
    "Faga", level = "genus", allometry = "exp(-2+log(dbh)*2.5)", :
    unitDBH must be either `Species`, `Genus`, `Family`, or `Woody
    species`, `Mixed conifers`. Execution halted
  ✖ fix this R CMD check WARNING: 'library' or 'require'
    calls not declared from: ‘BIOMASS’ ‘ggplot2’ ‘ggpubr’ ‘plotly’
  ✖ checking tests ... Running ‘spelling.R’ Running
    ‘test_get_biomass.R’ ERROR Running the tests in
    ‘tests/test_get_biomass.R’ failed. Last 13 lines of output: &gt;
    #generic test &gt; &gt; data = data.table(expand.grid(dbh=1:150,
    genus=c("Acer", "Prunus", "Fraxinus", "Quercus"), location =
    c("scbi", "zaragoza", "nice", "sivas"))) &gt; data = merge(data,
    data.frame(location = c("scbi", "zaragoza", "nice", "ivas"), +
    long = c(-78.15, -0.883, 7.266, 37.012), + lat = c(38.9, 41.65,
    43.70, 39.75))) &gt; data[, agb := get_biomass(dbh=data$dbh,
    genus=data$genus, coords = cbind(data$long, data$lat))/1000] &gt; &gt;
    #if you want to check the weight given to each equation &gt; Mweigth
    = get_biomass(dbh=data$dbh, genus=data$genus, species =
    data$species, + coords = cbind(data$long, data$lat), add_weight =
    TRUE)/1000 &gt; &gt; library(BIOMASS) Error in library(BIOMASS) : there
    is no package called 'BIOMASS' Execution halted
────────────────────────────────────────────────────────────────────────────── 
Warning message:
In MYPREPS[[prep]](state, quiet = quiet) :
  Prep step for test coverage failed.</code></pre>
</div>
</div>


  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Erika Gonzalez-Akre, Camille Piponiot, Mauro Lepore, Kristina Anderson-Teixeira.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


