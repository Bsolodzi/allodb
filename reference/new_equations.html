<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Modify the original equation table — new_equations • allodb</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Modify the original equation table — new_equations" />
<meta property="og:description" content="This function modifies the original equation table to be used in other
functions of the package including: subset the original equation table, add
new equations, and choose whether to include equations with a height
allometry." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">allodb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/allodb-vignette.html">Using allodb to estimate aboveground biomass</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/allodb/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Modify the original equation table</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/allodb/blob/master/R/new_equations.R'><code>R/new_equations.R</code></a></small>
    <div class="hidden name"><code>new_equations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function modifies the original equation table to be used in other
functions of the package including: subset the original equation table, add
new equations, and choose whether to include equations with a height
allometry.</p>
    </div>

    <pre class="usage"><span class='fu'>new_equations</span><span class='op'>(</span>
  subset_taxa <span class='op'>=</span> <span class='st'>"all"</span>,
  subset_climate <span class='op'>=</span> <span class='st'>"all"</span>,
  subset_region <span class='op'>=</span> <span class='st'>"all"</span>,
  subset_ids <span class='op'>=</span> <span class='st'>"all"</span>,
  subset_output <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Total aboveground biomass"</span>, <span class='st'>"Whole tree (above stump)"</span><span class='op'>)</span>,
  new_taxa <span class='op'>=</span> <span class='cn'>NULL</span>,
  new_allometry <span class='op'>=</span> <span class='cn'>NULL</span>,
  new_coords <span class='op'>=</span> <span class='cn'>NULL</span>,
  new_min_dbh <span class='op'>=</span> <span class='cn'>NULL</span>,
  new_max_dbh <span class='op'>=</span> <span class='cn'>NULL</span>,
  new_sample_size <span class='op'>=</span> <span class='cn'>NULL</span>,
  new_unit_dbh <span class='op'>=</span> <span class='st'>"cm"</span>,
  new_unit_output <span class='op'>=</span> <span class='st'>"kg"</span>,
  new_input_var <span class='op'>=</span> <span class='st'>"DBH"</span>,
  new_output_var <span class='op'>=</span> <span class='st'>"Total aboveground biomass"</span>,
  use_height_allom <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>subset_taxa</th>
      <td><p>character vector with taxa to be kept. Default is "all",
in which case all taxa are kept.</p></td>
    </tr>
    <tr>
      <th>subset_climate</th>
      <td><p>character vector with Koppen climate classification to
be kept. Default is "all", in which case all climates are kept.</p></td>
    </tr>
    <tr>
      <th>subset_region</th>
      <td><p>character vector with name of location(s) or
country(ies) or broader region(s) (eg. "Europe", "North America") to be
kept. Default is "all", in which case all regions/countries are kept.</p></td>
    </tr>
    <tr>
      <th>subset_ids</th>
      <td><p>character vector with equation IDs to be kept. Default is
"all", in which case all equations are kept.</p></td>
    </tr>
    <tr>
      <th>subset_output</th>
      <td><p>What dependent variable(s) should be provided in the
output? Default is "Total aboveground biomass" and "Whole tree (above
stump)", other possible values are: "Bark biomass", "Branches (dead)",
"Branches (live)", "Branches total (live, dead)", "Foliage total",
"Height", "Leaves", "Stem (wood only)", "Stem biomass", "Stem biomass (with
bark)", "Stem biomass (without bark)", "Whole tree (above and
belowground)". Be aware that currently only a few equations represent those
other variables, so estimated values might not be very accurate.</p></td>
    </tr>
    <tr>
      <th>new_taxa</th>
      <td><p>character string or vector specifying the taxon (or taxa) for
which the allometry has been calibrated</p></td>
    </tr>
    <tr>
      <th>new_allometry</th>
      <td><p>a character string with the allometric equation</p></td>
    </tr>
    <tr>
      <th>new_coords</th>
      <td><p>a vector or matrix of coordinates (longitude, latitude) of
the calibration data</p></td>
    </tr>
    <tr>
      <th>new_min_dbh</th>
      <td><p>numerical value, minimum DBH for which the equation is
valid (in cm). Default is <code>NULL</code> (nothing is added).</p></td>
    </tr>
    <tr>
      <th>new_max_dbh</th>
      <td><p>numerical value, maximum DBH for which the equation is
valid (in cm). Default is <code>NULL</code> (nothing is added).</p></td>
    </tr>
    <tr>
      <th>new_sample_size</th>
      <td><p>number of measurements with which the allometry was
calibrated. Default is <code>NULL</code> (nothing is added).</p></td>
    </tr>
    <tr>
      <th>new_unit_dbh</th>
      <td><p>character string with unit of DBH in the equation (either
<code>cm</code>, <code>mm</code> or <code>inch</code>). Default is "cm".</p></td>
    </tr>
    <tr>
      <th>new_unit_output</th>
      <td><p>character string with unit of equation output (either
"g", "kg", "Mg" or "lbs" if the output is a mass, or "m" if the output is a
height).</p></td>
    </tr>
    <tr>
      <th>new_input_var</th>
      <td><p>independent variable(s) needed in the allometry. Default
is "DBH", other option is "DBH, H".</p></td>
    </tr>
    <tr>
      <th>new_output_var</th>
      <td><p>dependent variable estimated by the allometry. Default
is "Total aboveground biomass".</p></td>
    </tr>
    <tr>
      <th>use_height_allom</th>
      <td><p>a logical value. In <span class="pkg">allodb</span>
we use Bohn et al. (2014)
for European sites. User need to provide height allometry
when needed to calculate AGB. Default is <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A new equation dataframe (<code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble::tibble()</a></code> object).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>new_equations</span><span class='op'>(</span>
  new_taxa <span class='op'>=</span> <span class='st'>"Faga"</span>,
  new_allometry <span class='op'>=</span> <span class='st'>"exp(-2+log(dbh)*2.5)"</span>,
  new_coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>0.07</span>, <span class='fl'>46.11</span><span class='op'>)</span>,
  new_min_dbh <span class='op'>=</span> <span class='fl'>5</span>,
  new_max_dbh <span class='op'>=</span> <span class='fl'>50</span>,
  new_sample_size <span class='op'>=</span> <span class='fl'>50</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 478 × 15</span>
#&gt;    equation_id equation_taxa  equation_allome… independent_var… dependent_varia…
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>          <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>           
#&gt; <span style='color: #BCBCBC;'> 1</span> 726f1d      Larix laricina 10^(2.648+0.715… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'> 2</span> a4d879      Acer saccharum 10^(1.2315+1.63… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'> 3</span> b9ebe4      Alnus rubra    exp(5.13118+2.1… DBH              Whole tree (abo…
#&gt; <span style='color: #BCBCBC;'> 4</span> 5e2dea      Viburnum lant… 29.615*((1.488+… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'> 5</span> 21800b      Pinus strobus  exp(5.2831+2.03… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'> 6</span> 1257b1      Abies          exp(3.1689+2.68… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'> 7</span> 9e2124      Populus david… 10^(1.826+2.558… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'> 8</span> 74d0ce      Ostrya virgin… exp(4.89+2.3*lo… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'> 9</span> 94f593      Liriodendron … 10^(0.8306+1.52… DBH              Total abovegrou…
#&gt; <span style='color: #BCBCBC;'>10</span> 8c94e8      Nyssa sylvati… 10^(1.1468+1.48… DBH              Total abovegrou…
#&gt; <span style='color: #949494;'># … with 468 more rows, and 10 more variables: long &lt;chr&gt;, lat &lt;chr&gt;,</span>
#&gt; <span style='color: #949494;'>#   koppen &lt;chr&gt;, dbh_min_cm &lt;dbl&gt;, dbh_max_cm &lt;dbl&gt;, sample_size &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   dbh_units_original &lt;chr&gt;, dbh_unit_cf &lt;dbl&gt;, output_units_original &lt;chr&gt;,</span>
#&gt; <span style='color: #949494;'>#   output_units_cf &lt;dbl&gt;</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Erika Gonzalez-Akre, Camille Piponiot, Mauro Lepore, Kristina Anderson-Teixeira.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


